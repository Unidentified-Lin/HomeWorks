<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<h1></h1>
		<table border="solid">
			<thead>
				<tr>
					<th>國家</th>
					<th>確診</th>
					<th>死亡</th>
					<th>治癒</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
		<script>
			let title = document.querySelector("h1");
			title.innerText = "全球肺炎統計表";

			var datas = [
				{ conuntry: "台灣", confirmed: 41, death: 1, recovery: 12 },
				{ conuntry: "中國", confirmed: 80134, death: 2914, recovery: 44595 },
				{ conuntry: "美國", confirmed: 9665, death: 146, recovery: 694 },
			];

			function createRow(data) {
				let tr = document.createElement("tr");
				let td1 = document.createElement("td");
				let td2 = document.createElement("td");
				let td3 = document.createElement("td");
				let td4 = document.createElement("td");
				td1.innerText = data.conuntry;
				td2.innerText = data.confirmed;
				td3.innerText = data.death;
				td4.innerText = data.recovery;
				tr.appendChild(td1);
				tr.appendChild(td2);
				tr.appendChild(td3);
				tr.appendChild(td4);
				document.querySelector("tbody").appendChild(tr);
            }
            
			datas.map((x) => createRow(x));

			let totalResult = datas.reduce((a, c) => {
				if (a.conuntry != "全球統計") {
					a.conuntry = "全球統計";
				}
				a.confirmed += c.confirmed;
				a.death += c.death;
				a.recovery += c.recovery;
				return a;
			});

			createRow(totalResult);
		</script>
	</body>
</html>
